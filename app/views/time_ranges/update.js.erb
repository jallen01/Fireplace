// Primary Author: Jonathan Allen (jallen01)

var modal = $("<%= j "#edit-time-range-#{@time_range.id}-modal" %>");
enable_modal(modal);

<% if @time_range.errors.any? %>
	modal.find("form").replaceWith("<%= j render "time_ranges/form", time_range: @time_range %>");
	modal.find("form").trigger("formCreated");
<% else %>
	modal.modal('hide').on("hidden.bs.modal", function () {
		$("#time-ranges-list").html("<%= j render "time_ranges/list" %>");
		$("#time-ranges-list form").trigger("formCreated");
		$("#time-ranges-list").trigger("listUpdated");
	});	
<% end %>
