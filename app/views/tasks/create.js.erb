// Primary Author: Jonathan Allen (jallen01)

var modal = $("#new-task-modal");
modal.find(".form-submit-btn").button("reset");
modal.find(".form-cancel-btn").removeClass("disabled");

<% unless @new_task.errors.any? %>
	$("#tasks-list").html("<%= j render "tasks/list" %>");
	$("#tasks-list form").trigger("formCreated");

	modal.modal("hide");
<% end %>

modal.find("form").replaceWith("<%= j render "tasks/form", task: @new_task %>");
modal.find("form").trigger("formCreated");