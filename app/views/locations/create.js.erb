// Primary Author: Michelle Johnson (mchlljy)

var modal = $("#new-location-modal");
enable_modal(modal);

<% unless @new_location.errors.any? %>
   modal.modal("hide").on("hidden.bs.modal", function () {
    	$("#locations-list").html("<%= j render "locations/list" %>");
    	$("#locations-list form").trigger("formCreated");
    	$("#locations-list").trigger("listUpdated");
    });
<% end %>

modal.find("form").replaceWith("<%= j render "locations/form", location: @new_location %>");
modal.find("form").trigger("formCreated");