// Primary Author: Michelle Johnson (mchlljy)

var modal = $("<%= j "#edit-location-#{@location.id}-modal" %>");
enable_modal(modal);

<% if @location.errors.any? %>
	modal.find("form").replaceWith("<%= j render "locations/form", location: @location %>");
	modal.find("form").trigger("formCreated");
<% else %>
    modal.modal("hide").on("hidden.bs.modal", function () {
    	$("#locations-list").html("<%= j render "locations/list" %>");
    	$("#locations-list form").trigger("formCreated");
    	$("#locations-list").trigger("listUpdated");
    });
<% end %>